{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/sumant/Desktop/Projects/React-Web/mauli-child-clinic/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useGeolocated = void 0;\nvar react_1 = require(\"react\");\n/**\n * Hook abstracting away the interaction with the Geolocation API.\n * @param config - the configuration to use\n */\nfunction useGeolocated() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _config$positionOptio = config.positionOptions,\n    positionOptions = _config$positionOptio === void 0 ? {\n      enableHighAccuracy: true,\n      maximumAge: 0,\n      timeout: Infinity\n    } : _config$positionOptio,\n    _config$isOptimisticG = config.isOptimisticGeolocationEnabled,\n    isOptimisticGeolocationEnabled = _config$isOptimisticG === void 0 ? true : _config$isOptimisticG,\n    _config$userDecisionT = config.userDecisionTimeout,\n    userDecisionTimeout = _config$userDecisionT === void 0 ? undefined : _config$userDecisionT,\n    _config$suppressLocat = config.suppressLocationOnMount,\n    suppressLocationOnMount = _config$suppressLocat === void 0 ? false : _config$suppressLocat,\n    _config$watchPosition = config.watchPosition,\n    watchPosition = _config$watchPosition === void 0 ? false : _config$watchPosition,\n    _config$geolocationPr = config.geolocationProvider,\n    geolocationProvider = _config$geolocationPr === void 0 ? typeof navigator !== \"undefined\" ? navigator.geolocation : undefined : _config$geolocationPr,\n    onError = config.onError,\n    onSuccess = config.onSuccess;\n  var userDecisionTimeoutId = (0, react_1.useRef)(0);\n  var isCurrentlyMounted = (0, react_1.useRef)(true);\n  var watchId = (0, react_1.useRef)(0);\n  var _ref = (0, react_1.useState)(isOptimisticGeolocationEnabled),\n    _ref2 = _slicedToArray(_ref, 2),\n    isGeolocationEnabled = _ref2[0],\n    setIsGeolocationEnabled = _ref2[1];\n  var _ref3 = (0, react_1.useState)(),\n    _ref4 = _slicedToArray(_ref3, 2),\n    coords = _ref4[0],\n    setCoords = _ref4[1];\n  var _ref5 = (0, react_1.useState)(),\n    _ref6 = _slicedToArray(_ref5, 2),\n    timestamp = _ref6[0],\n    setTimestamp = _ref6[1];\n  var _ref7 = (0, react_1.useState)(),\n    _ref8 = _slicedToArray(_ref7, 2),\n    positionError = _ref8[0],\n    setPositionError = _ref8[1];\n  var cancelUserDecisionTimeout = (0, react_1.useCallback)(function () {\n    if (userDecisionTimeoutId.current) {\n      window.clearTimeout(userDecisionTimeoutId.current);\n    }\n  }, []);\n  var handlePositionError = (0, react_1.useCallback)(function (error) {\n    cancelUserDecisionTimeout();\n    if (isCurrentlyMounted.current) {\n      setCoords(function () {\n        return undefined;\n      });\n      setIsGeolocationEnabled(false);\n      setPositionError(error);\n    }\n    onError === null || onError === void 0 ? void 0 : onError(error);\n  }, [onError, cancelUserDecisionTimeout]);\n  var handlePositionSuccess = (0, react_1.useCallback)(function (position) {\n    cancelUserDecisionTimeout();\n    if (isCurrentlyMounted.current) {\n      setCoords(position.coords);\n      setTimestamp(position.timestamp);\n      setIsGeolocationEnabled(true);\n      setPositionError(function () {\n        return undefined;\n      });\n    }\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(position);\n  }, [onSuccess, cancelUserDecisionTimeout]);\n  var getPosition = (0, react_1.useCallback)(function () {\n    if (!geolocationProvider || !geolocationProvider.getCurrentPosition || !geolocationProvider.watchPosition) {\n      throw new Error(\"The provided geolocation provider is invalid\");\n    }\n    var funcPosition = (watchPosition ? geolocationProvider.watchPosition : geolocationProvider.getCurrentPosition).bind(geolocationProvider);\n    if (userDecisionTimeout) {\n      userDecisionTimeoutId.current = window.setTimeout(function () {\n        handlePositionError();\n      }, userDecisionTimeout);\n    }\n    watchId.current = funcPosition(handlePositionSuccess, handlePositionError, positionOptions);\n  }, [geolocationProvider, watchPosition, userDecisionTimeout, handlePositionError, handlePositionSuccess, positionOptions]);\n  (0, react_1.useEffect)(function () {\n    if (!suppressLocationOnMount) {\n      getPosition();\n    }\n    return function () {\n      cancelUserDecisionTimeout();\n      if (watchPosition && watchId.current) {\n        geolocationProvider === null || geolocationProvider === void 0 ? void 0 : geolocationProvider.clearWatch(watchId.current);\n      }\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n  return {\n    getPosition: getPosition,\n    coords: coords,\n    timestamp: timestamp,\n    isGeolocationEnabled: isGeolocationEnabled,\n    isGeolocationAvailable: Boolean(geolocationProvider),\n    positionError: positionError\n  };\n}\nexports.useGeolocated = useGeolocated;","map":{"version":3,"names":["Object","defineProperty","exports","value","useGeolocated","react_1","require","config","positionOptions","enableHighAccuracy","maximumAge","timeout","Infinity","isOptimisticGeolocationEnabled","userDecisionTimeout","undefined","suppressLocationOnMount","watchPosition","geolocationProvider","navigator","geolocation","onError","onSuccess","userDecisionTimeoutId","useRef","isCurrentlyMounted","watchId","useState","isGeolocationEnabled","setIsGeolocationEnabled","coords","setCoords","timestamp","setTimestamp","positionError","setPositionError","cancelUserDecisionTimeout","useCallback","current","window","clearTimeout","handlePositionError","error","handlePositionSuccess","position","getPosition","getCurrentPosition","Error","funcPosition","bind","setTimeout","useEffect","clearWatch","isGeolocationAvailable","Boolean"],"sources":["/Users/sumant/Desktop/Projects/React-Web/mauli-child-clinic/node_modules/react-geolocated/dist-modules/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useGeolocated = void 0;\nconst react_1 = require(\"react\");\n/**\n * Hook abstracting away the interaction with the Geolocation API.\n * @param config - the configuration to use\n */\nfunction useGeolocated(config = {}) {\n    const { positionOptions = {\n        enableHighAccuracy: true,\n        maximumAge: 0,\n        timeout: Infinity,\n    }, isOptimisticGeolocationEnabled = true, userDecisionTimeout = undefined, suppressLocationOnMount = false, watchPosition = false, geolocationProvider = typeof navigator !== \"undefined\"\n        ? navigator.geolocation\n        : undefined, onError, onSuccess, } = config;\n    const userDecisionTimeoutId = (0, react_1.useRef)(0);\n    const isCurrentlyMounted = (0, react_1.useRef)(true);\n    const watchId = (0, react_1.useRef)(0);\n    const [isGeolocationEnabled, setIsGeolocationEnabled] = (0, react_1.useState)(isOptimisticGeolocationEnabled);\n    const [coords, setCoords] = (0, react_1.useState)();\n    const [timestamp, setTimestamp] = (0, react_1.useState)();\n    const [positionError, setPositionError] = (0, react_1.useState)();\n    const cancelUserDecisionTimeout = (0, react_1.useCallback)(() => {\n        if (userDecisionTimeoutId.current) {\n            window.clearTimeout(userDecisionTimeoutId.current);\n        }\n    }, []);\n    const handlePositionError = (0, react_1.useCallback)((error) => {\n        cancelUserDecisionTimeout();\n        if (isCurrentlyMounted.current) {\n            setCoords(() => undefined);\n            setIsGeolocationEnabled(false);\n            setPositionError(error);\n        }\n        onError === null || onError === void 0 ? void 0 : onError(error);\n    }, [onError, cancelUserDecisionTimeout]);\n    const handlePositionSuccess = (0, react_1.useCallback)((position) => {\n        cancelUserDecisionTimeout();\n        if (isCurrentlyMounted.current) {\n            setCoords(position.coords);\n            setTimestamp(position.timestamp);\n            setIsGeolocationEnabled(true);\n            setPositionError(() => undefined);\n        }\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(position);\n    }, [onSuccess, cancelUserDecisionTimeout]);\n    const getPosition = (0, react_1.useCallback)(() => {\n        if (!geolocationProvider ||\n            !geolocationProvider.getCurrentPosition ||\n            !geolocationProvider.watchPosition) {\n            throw new Error(\"The provided geolocation provider is invalid\");\n        }\n        const funcPosition = (watchPosition\n            ? geolocationProvider.watchPosition\n            : geolocationProvider.getCurrentPosition).bind(geolocationProvider);\n        if (userDecisionTimeout) {\n            userDecisionTimeoutId.current = window.setTimeout(() => {\n                handlePositionError();\n            }, userDecisionTimeout);\n        }\n        watchId.current = funcPosition(handlePositionSuccess, handlePositionError, positionOptions);\n    }, [\n        geolocationProvider,\n        watchPosition,\n        userDecisionTimeout,\n        handlePositionError,\n        handlePositionSuccess,\n        positionOptions,\n    ]);\n    (0, react_1.useEffect)(() => {\n        if (!suppressLocationOnMount) {\n            getPosition();\n        }\n        return () => {\n            cancelUserDecisionTimeout();\n            if (watchPosition && watchId.current) {\n                geolocationProvider === null || geolocationProvider === void 0 ? void 0 : geolocationProvider.clearWatch(watchId.current);\n            }\n        };\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n    return {\n        getPosition,\n        coords,\n        timestamp,\n        isGeolocationEnabled,\n        isGeolocationAvailable: Boolean(geolocationProvider),\n        positionError,\n    };\n}\nexports.useGeolocated = useGeolocated;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}